# Arquivo .env atualizado automaticamente para refletir o template mais recente.
# Backup anterior: .env.bak.20251013-125632
# Reveja os valores abaixo e ajuste conforme necessário.

# Configurações para stream_to_youtube.py
# Copie este arquivo para ".env" ou deixe que o script gere um automaticamente e depois personalize.

# Chave do YouTube Live. Se preenchida, a URL final será gerada automaticamente.
#YT_KEY=SEU_CODIGO_DO_YOUTUBE
YT_KEY=f4ex-ztrk-vc4h-2pvc-2kg4

# URL completa do ingest RTMP. Use se preferir definir manualmente em vez da chave.
#YT_URL=rtmps://a.rtmps.youtube.com/live2/SEU_CODIGO_DO_YOUTUBE
# YT_URL=rtmps://a.rtmps.youtube.com/live2/SEU_CODIGO_DO_YOUTUBE

# Parâmetros de entrada para o ffmpeg. Ajuste o endereço RTSP conforme necessário.
#YT_INPUT_ARGS=-rtsp_transport tcp -rtsp_flags prefer_tcp -fflags nobuffer -flags low_delay -use_wallclock_as_timestamps 1 -i rtsp://USUARIO:SenhaFort3@10.0.254.50:554/Streaming/Channels/101

# Também é possível deixar `YT_INPUT_ARGS` vazio e informar as variáveis abaixo para montar
# automaticamente a URL RTSP. Todas são opcionais e só são utilizadas quando `YT_INPUT_ARGS`
# permanecer em branco.
RTSP_HOST=10.0.254.50
RTSP_PORT=554
RTSP_PATH=Streaming/Channels/101
RTSP_USERNAME=BEACHCAM
RTSP_PASSWORD=QueriasEntrar123

# Parâmetros de saída para o ffmpeg. Utilize para alterar codec, bitrate ou filtros.
#YT_OUTPUT_ARGS=-vf scale=1920:1080:flags=bicubic:in_range=pc:out_range=tv,format=yuv420p -r 30 -c:v libx264 -preset veryfast -profile:v high -level 4.2 -b:v 4500k -pix_fmt yuv420p -g 60 -c:a aac -b:a 128k -ar 44100 -f flv

# Ative o ajuste automático de bitrate (requer psutil) para medir a banda de upload.
YT_AUTOTUNE=1
# Intervalo, em segundos, entre medições consecutivas.
#YT_AUTOTUNE_INTERVAL=8
# YT_AUTOTUNE_INTERVAL=8
# Limites (em kbps) utilizados pelo ajuste automático de bitrate.
#YT_BITRATE_MIN=2500
# YT_BITRATE_MIN=2500
#YT_BITRATE_MAX=6000
# YT_BITRATE_MAX=6000
# Margem de segurança aplicada sobre a banda medida (0.0 a 1.0).
#YT_AUTOTUNE_SAFETY=0.75
# YT_AUTOTUNE_SAFETY=0.75

# Caminho para o executável ffmpeg. Deixe vazio para usar o ffmpeg no PATH.
FFMPEG=C:\bwb\ffmpeg\bin\ffmpeg.exe

# Caminho para o executável ffprobe. Se vazio, o script tenta localizar
# automaticamente na mesma pasta do ffmpeg.
FFPROBE=C:\bwb\ffmpeg\bin\ffprobe.exe

# Controla a verificação periódica do sinal da câmara (via ffprobe).
BWB_CAMERA_PROBE_INTERVAL=30
BWB_CAMERA_PROBE_TIMEOUT=7
BWB_CAMERA_SIGNAL_REQUIRED=1

# Configurações do heartbeat/status para comunicar com a droplet secundária.
BWB_STATUS_ENABLED=1
BWB_STATUS_ENDPOINT=http://104.248.134.44:8080/status
BWB_STATUS_INTERVAL=20
BWB_STATUS_TIMEOUT=5
BWB_STATUS_MACHINE_ID=BEACHCAM-PRIMARY
# BWB_STATUS_TOKEN=
BWB_STATUS_LOG_FILE=logs/heartbeat-status.jsonl
BWB_STATUS_LOG_RETENTION_SECONDS=3600
